"use client";
import React from "react";
import gsap from "gsap";
import "./stickers.css";
import { Bebas_Neue } from "next/font/google";
import Me from "../../assets/me31.png";
import ImageB from "../ImageB";
import { Shine } from "../Shine";
import { Icons } from "../icons";

interface DeviceOrientationEventiOS extends DeviceOrientationEvent {
  requestPermission?: () => Promise<"granted" | "denied">;
}
const beba = Bebas_Neue({ weight: "400", subsets: ["latin"] });
function Stickers() {
  React.useEffect(() => {
    const UPDATE = ({ x, y }: { x: number; y: number }) => {
      gsap.set(document.documentElement, {
        "--x": gsap.utils.mapRange(0, window.innerWidth, -1, 1, x),
        "--y": gsap.utils.mapRange(0, window.innerHeight, -1, 1, y),
      });
    };
    window.addEventListener("mousemove", UPDATE);
    return () => {
      window.removeEventListener("mousemove", UPDATE);
    };
  }, []);

  React.useEffect(() => {
    const handleOrientation = (event: DeviceOrientationEvent) => {
      const { beta, gamma } = event;
      const isLandscape = window.matchMedia("(orientation: landscape)").matches;
      if (beta !== null && gamma !== null) {
        gsap.set(document.documentElement, {
          "--x": gsap.utils.clamp(
            -1,
            1,
            isLandscape
              ? gsap.utils.mapRange(-45, 45, -1, 1, beta)
              : gsap.utils.mapRange(-45, 45, -1, 1, gamma)
          ),
          "--y": gsap.utils.clamp(
            -1,
            1,
            isLandscape
              ? gsap.utils.mapRange(20, 70, 1, -1, Math.abs(gamma))
              : gsap.utils.mapRange(20, 70, 1, -1, beta)
          ),
        });
      }
    };
    const initiate = () => {
      const requestPermission = (
        DeviceOrientationEvent as unknown as DeviceOrientationEventiOS
      ).requestPermission;
      const iOS = typeof requestPermission === "function";
      if (iOS) {
        Promise.all([requestPermission()]).then((results) => {
          if (results.every((result: string) => result === "granted")) {
            window.addEventListener("deviceorientation", handleOrientation);
          }
        });
      } else {
        window.addEventListener("deviceorientation", handleOrientation);
      }
    };
    document.body.addEventListener("click", initiate, { once: true });
    return () => {
      document.body.removeEventListener("click", initiate);
      window.removeEventListener("deviceorientation", handleOrientation);
    };
  }, []);
  return (
    <div className='relative  h-fit'>
      <h4
        className={`${beba.className} z-20 absolute -right-3 top-0 text-brand m-0 text-[4rem] uppercase second-two-level-move `}
      >
        <span className='flex'>
          <span>(</span>
          <Shine puffyness='2'>
            <span className=' text-black'>⌐■</span>
          </Shine>
          <span>_</span>
          <Shine puffyness='2'>
            <span className=' text-black'>■</span>
          </Shine>
          <span>)</span>
        </span>
      </h4>
      <div className='z-20 size-32 absolute left-0 top-0 text-brand m-0 text-[4rem] uppercase second-level-move'>
        <svg
          xmlns='http://www.w3.org/2000/svg'
          version='1.1'
          x='0px'
          y='0px'
          viewBox='0 0 100 125'
          enable-background='new 0 0 100 100'
        >
          <path d='M29.382,51.866c1.44,1.228,2.993,2.329,4.639,3.275c0.862,0.51,1.766,0.947,2.695,1.329  c-0.726-0.006-1.452-0.01-2.188,0.026c-0.588,0.043-1.173,0.1-1.771,0.2c-0.303,0.056-0.599,0.108-0.939,0.23  c-0.1,0.047-0.174,0.067-0.292,0.143c-0.061,0.042-0.121,0.087-0.177,0.135c-0.072,0.07-0.161,0.219-0.197,0.342  c-0.034,0.129-0.006,0.319,0.052,0.457c0.038,0.082,0.044,0.08,0.068,0.124l0.118,0.198c1.304,2.117,3.462,3.462,5.618,4.335  c1.845,0.753,3.796,1.23,5.778,1.398c-0.828,0.391-1.693,0.71-2.581,0.946c-0.308,0.083-0.619,0.154-0.932,0.216l-0.471,0.086  c-0.169,0.052-0.336,0.014-0.58,0.24c-0.067,0.059-0.084,0.181-0.058,0.293c0.029,0.073,0.071,0.127,0.112,0.176  c0.076,0.07,0.154,0.132,0.229,0.175c0.151,0.097,0.302,0.167,0.454,0.238c0.304,0.137,0.61,0.251,0.92,0.358  c1.246,0.434,2.556,0.594,3.849,0.673l3.883,0.148c-2.563-0.267-5.219-0.214-7.617-1.141c-0.298-0.114-0.595-0.236-0.877-0.375  c-0.139-0.071-0.28-0.143-0.398-0.225c-0.049-0.03-0.081-0.061-0.115-0.092c0.134-0.038,0.499-0.082,0.748-0.124  c0.324-0.053,0.646-0.116,0.966-0.19c1.281-0.295,2.527-0.751,3.699-1.358c0.09-0.047,0.154-0.139,0.161-0.248  c0.009-0.165-0.117-0.306-0.281-0.315l-0.012-0.001c-2.26-0.128-4.489-0.718-6.548-1.641c-2.027-0.892-3.879-2.2-4.998-4.019  c0.18-0.048,0.382-0.088,0.587-0.12c0.541-0.079,1.106-0.123,1.669-0.153c1.124-0.03,2.277,0.039,3.412,0.053  c1.139-0.003,2.28,0.104,3.421,0.211l0.094,0.008c1.125,0.177,2.264,0.266,3.4,0.297l0.011,0c0.352,0.009,0.651-0.261,0.675-0.615  c0.025-0.364-0.25-0.678-0.614-0.703l-0.714-0.048c-1.561-0.106-3.117-0.31-4.609-0.81c-1.692-0.548-3.348-1.247-4.872-2.194  c-1.534-0.924-2.983-1.996-4.327-3.19c-0.359-0.323-0.715-0.655-1.065-0.994c1.03,0.354,2.081,0.64,3.147,0.848  c1.194,0.24,2.404,0.391,3.62,0.456c1.227,0.064,2.41,0.062,3.698-0.083c0.419-0.047,0.761-0.384,0.798-0.82  c0.042-0.497-0.326-0.934-0.823-0.976l-0.059-0.005c-1.493-0.127-2.974-0.448-4.386-1.02c-1.401-0.595-2.744-1.352-4.001-2.253  c-1.246-0.917-2.42-1.945-3.51-3.061c-0.021-0.021-0.04-0.044-0.061-0.065c0.587,0.201,1.175,0.388,1.765,0.551  c2.088,0.589,4.174,1.014,6.316,1.353c0.442,0.07,0.891-0.17,1.066-0.603c0.204-0.504-0.039-1.077-0.543-1.281l-0.069-0.028  c-0.743-0.301-1.516-0.538-2.238-0.885c-0.711-0.365-1.45-0.684-2.106-1.142c-1.376-0.815-2.587-1.877-3.673-3.04  c-1.091-1.164-2.005-2.496-2.737-3.92c-0.192-0.368-0.371-0.748-0.539-1.135c0.71,0.552,1.446,1.054,2.194,1.527  c0.889,0.558,1.803,1.062,2.729,1.539c0.932,0.476,1.855,0.92,2.84,1.333c0.42,0.175,0.913,0,1.121-0.413  c0.219-0.432,0.045-0.959-0.387-1.178l-0.007-0.003c-1.412-0.714-2.591-1.822-3.395-3.216c-0.826-1.379-1.291-2.993-1.565-4.636  c-0.271-1.651-0.333-3.355-0.252-5.056c0.02-0.415,0.073-0.832,0.108-1.249c0.899,2.844,2.296,5.521,4.062,7.893  c1.283,1.716,2.717,3.303,4.347,4.704c1.618,1.405,3.405,2.576,5.216,3.652c3.62,2.145,7.347,4.071,10.42,6.902  c1.539,1.392,2.946,2.957,3.995,4.752c1.071,1.771,1.696,3.862,1.471,5.962c0.32-2.086-0.215-4.246-1.226-6.099  c-0.995-1.874-2.385-3.51-3.9-4.979c-3.03-2.984-6.772-5.079-10.277-7.318c-1.749-1.133-3.464-2.305-4.988-3.682  c-1.525-1.364-2.889-2.936-4.082-4.602c-2.382-3.339-4.007-7.222-4.484-11.262c-0.036-0.294-0.251-0.552-0.556-0.624  c-0.392-0.092-0.784,0.15-0.877,0.542c-0.423,1.777-0.667,3.524-0.793,5.318c-0.121,1.787-0.096,3.596,0.162,5.402  c0.257,1.71,0.743,3.429,1.612,5.002c-0.113-0.07-0.23-0.134-0.342-0.206c-1.664-1.055-3.275-2.268-4.364-3.726l-0.031-0.042  c-0.201-0.268-0.543-0.414-0.894-0.349c-0.494,0.092-0.82,0.567-0.728,1.061c0.342,1.838,0.945,3.448,1.744,5.036  c0.795,1.572,1.793,3.049,2.993,4.35c0.718,0.781,1.496,1.511,2.326,2.176c-0.695-0.211-1.382-0.437-2.044-0.696  c-0.925-0.362-1.846-0.812-2.455-1.354l-0.033-0.03c-0.329-0.292-0.827-0.331-1.201-0.066c-0.437,0.309-0.541,0.913-0.232,1.35  c0.993,1.405,2.061,2.626,3.229,3.817c1.166,1.177,2.426,2.268,3.779,3.248c0.688,0.486,1.404,0.936,2.145,1.346  c-0.964-0.199-1.917-0.446-2.841-0.777c-1.076-0.354-2.096-0.845-3.1-1.358l-0.047-0.024c-0.288-0.146-0.647-0.122-0.916,0.092  c-0.369,0.292-0.43,0.828-0.138,1.197C26.628,49.301,27.937,50.626,29.382,51.866z' />
          <path d='M77.202,53.406l-0.037-0.001l0,0c-0.658-0.004-1.56-0.481-2.191-1.024c-0.16-0.139-0.311-0.288-0.425-0.437l-0.357-0.57  c-0.28-0.453-0.618-0.865-1.002-1.228c-0.769-0.717-1.749-1.246-2.82-1.381c-1.077-0.101-2.081,0.114-3.032,0.465  c-1.884,0.754-3.424,2.06-4.722,3.508c-1.314,1.445-2.4,3.073-3.319,4.775c1.03-1.637,2.253-3.146,3.603-4.503  c1.346-1.352,2.916-2.521,4.674-3.113c0.436-0.147,0.891-0.229,1.338-0.294c0.452-0.008,0.912-0.076,1.327,0.017  c0.85,0.151,1.63,0.632,2.243,1.255c0.307,0.313,0.573,0.666,0.786,1.044l0.39,0.673c0.171,0.242,0.36,0.441,0.557,0.627  c0.142,0.133,0.294,0.248,0.446,0.365c-0.066,0.013-0.132,0.02-0.199,0.035c-0.917,0.195-1.817,0.608-2.572,1.171  c-1.554,1.118-2.495,2.817-3.235,4.351c-0.768,1.545-1.47,3.152-2.053,4.791c-0.595,1.642-1.028,3.339-1.52,4.929  c-0.496,1.593-1.089,3.116-1.99,4.387c-0.892,1.276-2.094,2.266-3.513,2.949c-1.414,0.691-2.985,1.057-4.612,1.252  c-1.618,0.192-3.266,0.201-4.868-0.005c-0.259-0.033-0.536,0.037-0.754,0.216l-6.441,5.294c-1.058,0.896-2.097,1.781-3.178,2.574  c-0.54,0.397-1.09,0.771-1.654,1.112c-0.204,0.124-0.412,0.237-0.62,0.351l-0.003-0.012c-0.105-0.479-0.288-1.006-0.587-1.469  c-0.289-0.452-0.68-0.893-1.238-1.198c-0.144-0.076-0.274-0.14-0.454-0.19c-0.184-0.042-0.412-0.096-0.566-0.088  c-0.34-0.003-0.611,0.051-0.869,0.109c-0.969,0.267-1.722,0.654-2.476,0.958c-0.376,0.161-0.734,0.285-1.074,0.384  c-0.123,0.034-0.237,0.053-0.343,0.065c0.144-0.227,0.306-0.463,0.48-0.696c0.487-0.641,1.021-1.275,1.562-1.904  c1.087-1.254,2.23-2.487,3.385-3.686c0.121-0.127,0.202-0.299,0.212-0.487c0.023-0.421-0.299-0.78-0.72-0.804l-1.19-0.071  c-0.389-0.06-0.784-0.099-1.169-0.175c-0.766-0.164-1.525-0.368-2.224-0.697c-0.7-0.321-1.36-0.724-1.926-1.233  c-0.267-0.236-0.522-0.511-0.746-0.798c1.388,0.179,2.782,0.295,4.18,0.232c1.817-0.02,3.621-0.301,5.379-0.706  c1.762-0.404,3.465-1.027,5.09-1.793c1.623-0.768,3.163-1.718,4.53-2.867c-1.443,1.053-3.045,1.854-4.68,2.528  c-1.64,0.667-3.34,1.185-5.077,1.485c-1.733,0.301-3.491,0.478-5.243,0.401c-1.753-0.014-3.489-0.278-5.202-0.608l-0.031-0.006  c-0.102-0.019-0.211-0.011-0.315,0.029c-0.295,0.115-0.441,0.448-0.326,0.743c0.372,0.953,0.918,1.638,1.57,2.289  c0.652,0.633,1.409,1.14,2.209,1.542c0.803,0.404,1.657,0.662,2.514,0.87c0.323,0.073,0.65,0.125,0.976,0.178  c-0.823,0.83-1.638,1.667-2.433,2.534c-0.577,0.63-1.142,1.272-1.684,1.964c-0.271,0.352-0.536,0.702-0.79,1.138  c-0.064,0.123-0.126,0.223-0.188,0.382c-0.03,0.071-0.061,0.142-0.089,0.258l-0.037,0.158c-0.011,0.06-0.015,0.17-0.013,0.254  c0.006,0.093-0.002,0.158,0.061,0.328c0.042,0.13,0.165,0.32,0.207,0.357c0.072,0.069,0.147,0.136,0.225,0.2  c0.153,0.141,0.322,0.231,0.503,0.293c0.723,0.256,1.295,0.127,1.774,0.026c0.471-0.124,0.91-0.276,1.311-0.439  c0.809-0.318,1.578-0.671,2.24-0.837c0.154-0.031,0.297-0.051,0.38-0.047c0.057-0.006,0.032,0.019,0.056,0.006  c0.023,0,0.084,0.031,0.125,0.055c0.183,0.102,0.379,0.304,0.535,0.562c0.154,0.248,0.252,0.53,0.322,0.872l0.024,0.129l0.01,0.082  l0.019,0.279c0.029,0.231,0.001,0.517,0.239,1.008l0.01,0.02c0.199,0.407,0.68,0.603,1.112,0.438  c0.476-0.181,0.785-0.341,1.107-0.508c0.325-0.169,0.645-0.347,0.956-0.535c0.625-0.373,1.225-0.777,1.805-1.198  c1.16-0.841,2.239-1.751,3.302-2.641l6.116-5c1.643,0.166,3.289,0.14,4.916-0.062c1.758-0.22,3.562-0.64,5.222-1.463  c1.66-0.797,3.174-2.06,4.206-3.615c1.052-1.545,1.669-3.269,2.16-4.937c0.489-1.682,0.873-3.308,1.416-4.89  c0.534-1.591,1.147-3.143,1.86-4.677c0.691-1.538,1.449-2.95,2.678-3.888c1.195-0.973,2.745-1.262,4.417-1.275l0.016,0  c0.343,0.006,0.625-0.267,0.631-0.61C77.818,53.694,77.545,53.412,77.202,53.406z' />
          <path d='M47.503,33.949c0.266,0.862,0.659,1.684,1.133,2.444c0.476,0.765,1.106,1.412,1.766,1.996  c-0.597-0.654-1.141-1.349-1.522-2.137c-0.386-0.78-0.71-1.589-0.896-2.437c-0.195-0.844-0.308-1.705-0.342-2.567  c-0.011-0.312-0.003-0.628,0.004-0.943c0.083,0.113,0.168,0.224,0.255,0.331c0.443,0.537,0.938,1.006,1.456,1.436  c0.517,0.432,1.054,0.833,1.608,1.204c0.558,0.373,1.109,0.723,1.718,1.051c0.226,0.121,0.512,0.11,0.732-0.052  c0.304-0.225,0.369-0.654,0.144-0.958l-0.038-0.052c-0.593-0.803-1.154-1.635-1.531-2.566c-0.392-0.92-0.704-1.88-0.88-2.875  c-0.142-0.769-0.226-1.55-0.272-2.335c0.347,0.424,0.712,0.824,1.094,1.199c0.436,0.426,0.865,0.815,1.362,1.214  c0.223,0.176,0.525,0.256,0.823,0.186c0.518-0.122,0.839-0.64,0.717-1.158l-0.016-0.067c-0.151-0.643-0.324-1.282-0.461-1.927  c-0.084-0.65-0.238-1.296-0.27-1.948c-0.135-1.304-0.065-2.605,0.085-3.888c0.201-1.274,0.549-2.522,1.08-3.688  c0.06-0.134,0.134-0.267,0.2-0.401c0.116,2.026,0.658,4.013,1.438,5.818c0.622,1.46,1.385,2.809,2.282,4.117  c0.899,1.285,1.887,2.445,2.771,3.641c1.85,2.311,2.867,5.119,3.46,8.057c0.588,2.94,0.65,5.985,0.536,9.018  c0.469-3.002,0.605-6.078,0.251-9.141c-0.325-3.043-1.316-6.157-3.129-8.725c-0.87-1.282-1.805-2.477-2.595-3.714  c-0.774-1.224-1.444-2.568-1.985-3.91c-1.092-2.694-1.519-5.628-0.866-8.358l0.01-0.041c0.07-0.304-0.011-0.637-0.246-0.877  c-0.366-0.375-0.967-0.382-1.342-0.016c-1.171,1.144-1.918,2.359-2.562,3.711c-0.624,1.34-1.034,2.767-1.273,4.216  c-0.195,1.453-0.232,2.923-0.079,4.365c0.021,0.35,0.073,0.694,0.131,1.037c-0.021-0.025-0.046-0.047-0.067-0.072  c-0.665-0.783-1.211-1.742-1.177-2.403l0.003-0.068c0.022-0.462-0.31-0.873-0.777-0.941c-0.496-0.071-0.956,0.273-1.028,0.769  c-0.004,0.031-0.004,0.058-0.008,0.089l-0.004,0c-0.001,0.012,0.001,0.023,0,0.036c-0.153,1.123-0.182,2.164-0.142,3.245  c0.049,1.11,0.19,2.219,0.447,3.306c0.241,1.09,0.631,2.152,1.115,3.165c0.043,0.094,0.096,0.183,0.142,0.275  c-0.225-0.152-0.463-0.29-0.679-0.45c-0.503-0.37-0.976-0.773-1.385-1.215c-0.404-0.441-0.766-0.922-0.937-1.434l-0.018-0.054  c-0.056-0.168-0.209-0.294-0.397-0.308c-0.25-0.018-0.467,0.169-0.485,0.419c-0.069,0.943-0.027,1.832,0.076,2.737  C47.041,32.202,47.23,33.089,47.503,33.949z' />
        </svg>
      </div>
      <div className='z-20 size-32 absolute left-0 top-1/2 text-brand m-0 text-[4rem] uppercase second-level-move'>
        <svg
          xmlns='http://www.w3.org/2000/svg'
          version='1.1'
          x='0px'
          y='0px'
          viewBox='0 0 100 125'
        >
          <g>
            <g>
              <path d='M31.5,46.1c0,0-10.8-11-18.1-4.1c0,0-5.5,4.2-3.7,14.2c0,0,4.9-6.7,7.9-4.2s0.4,12.8,7.5,19.9c7.1,7.1,29,12.8,29,12.8    S61.5,88,65.6,91c7,5,20.5-4.2,24.7-8.5c0.5-0.5,0.2-1.3-0.5-1.4c-5-0.3-19.4-1.2-22.9-3.9C62.7,74.1,42,47.3,31.5,46.1z' />
              <path d='M35.3,60.9c0.3-0.3-0.6-10.8,6.1-13.4c2.6-1,6.7-12.1,16.9-15.3c12-3.8,22-14.9,24.7-23.8c0.3-1,1.8-1,2.1,0    c1.1,3.7,2,9.3-0.6,13.6l2.8-1c0.9-0.3,1.7,0.5,1.4,1.4c-1.1,3.7-3.6,11.4-5.6,13.8l5,0.1c0.9,0,1.4,0.9,0.9,1.7    c-2,3.3-6.7,10.6-11.5,11l4.2,1.3c0.8,0.3,1,1.3,0.4,1.9c-2.5,2.2-7.6,6.4-10.4,6.6l3.6,1.5c0.9,0.4,0.9,1.6,0,2    c-4,1.9-12.5,5.2-17.2,3.3c0,0-8.3,5.1-14.8,3.2S35.3,60.9,35.3,60.9z' />
              <path d='M37.3,49.8c0,0,2.5-3,4.1-3.1c0,0,8.5-14.4,14.7-15.6c6-1.1,7.8-4,7.8-4L61.3,27c0,0,7.1-5.6,6-5.6    c-0.9,0-2.6-0.2-2.6-0.2s1.9-4.5,1.5-7.8c-0.1-0.7-0.7-1-1.2-0.6c-3.1,3-12,11.1-20.6,12.4C40,26,34.1,48.7,34.1,48.7L37.3,49.8z' />
            </g>
          </g>
        </svg>
      </div>
      <article className=' w-[600px] aspect-[2/1.1] max-h-[calc(100svh-2rem)] relative overflow-hidden max-w-[calc(100%-2rem)] portrait:min-h-[330px]'>
        <div className='assets absolute inset-0 rounded-[4em] overflow-hidden'>
          <img
            className='z-10 absolute top-0 left-1/2 -translate-x-1/2 h-full w-[660px] max-w-[unset] object-cover select-none pointer-events-none saturate-[1.5] brightness-[0.9] first-level-move'
            src='https://assets.codepen.io/605876/osaka-sky.jpeg'
            alt=''
          />
          <h4
            className={`${beba.className} z-20 absolute left-1/2 top-[50%] text-brand m-0 text-[4rem] uppercase second-level-move `}
          >
            <Shine puffyness='2'>SOLOP</Shine>
          </h4>
          {/* <img
              className='absolute top-0 left-1/2 -translate-x-1/2 h-full w-[460px] max-w-[unset] object-cover select-none third-level-move'
              src='../../assets/me31.png'
              alt=''
            /> */}
        </div>
      </article>
    </div>
  );
}

export default Stickers;
